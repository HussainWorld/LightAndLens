@model LightAndLensCL.Models.Equipment

@{
    ViewData["Title"] = "Details";
}

<h1>Equipment Details</h1>
<hr />

<div class="row">
    <div class="col-md-8">
        <dl class="row">
            <dt class="col-sm-3 fw-semibold">@Html.DisplayNameFor(m => m.EquipmentName)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(m => m.EquipmentName)</dd>

            <dt class="col-sm-3 fw-semibold">@Html.DisplayNameFor(m => m.Description)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(m => m.Description)</dd>

            <dt class="col-sm-3 fw-semibold">@Html.DisplayNameFor(m => m.RentalPricePerDay)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(m => m.RentalPricePerDay)</dd>

            <dt class="col-sm-3 fw-semibold">@Html.DisplayNameFor(m => m.Quantity)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(m => m.Quantity)</dd>

            <dt class="col-sm-3 fw-semibold">@Html.DisplayNameFor(m => m.Availability)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(m => m.Availability.AvailabilityStatusName)</dd>

            <dt class="col-sm-3 fw-semibold">@Html.DisplayNameFor(m => m.Category)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(m => m.Category.CategoryName)</dd>

            <dt class="col-sm-3 fw-semibold">@Html.DisplayNameFor(m => m.Condition)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(m => m.Condition.ConditionName)</dd>

            <dt class="col-sm-3 fw-semibold">Image</dt>
            <dd class="col-sm-9">
                @{
                    var mainImage = Model.EquipmentImages?.FirstOrDefault(i => i.IsMain == true);
                    if (mainImage != null)
                    {
                        <img src="@Url.Content($"~/SharedImages/{mainImage.ImagePath}")" class="img-fluid rounded" alt="Equipment Image" style="max-width: 300px;" />
                    }
                    else
                    {
                        <span>No image available</span>
                    }
                }
            </dd>
        </dl>

        <div class="mt-4">
            <a asp-action="Edit" asp-route-id="@Model?.EquipmentId" class="btn btn-primary me-2">Edit</a>
            <a asp-action="Index" class="btn btn-secondary">Back to List</a>
        </div>
    </div>
</div>
